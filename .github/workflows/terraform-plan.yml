name: Terraform Plan
on:
    workflow_dispatch:
jobs:
    terraform-plan:
        runs-on: ubuntu-latest
        steps:
        - name: Checkout repository
          uses: actions/checkout@v2

        - name: Credenciais AWS
          uses: aws-actions/configure-aws-credentials@v4
          with:
            role-to-assume: arn:aws:iam::601920909369:role/resume-cloud-challenge-actions
            aws-region: us-east-1
        
        - name: Set up Terraform
          uses: hashicorp/setup-terraform@v3
        
        - name: Terraform Init
          run: terraform init
        
        - name: Terraform Plan
          run: terraform plan